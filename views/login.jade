extends layout

block head
  link(rel='stylesheet' href='/stylesheets/login.css')

block content
  .room-top-bar
    = ' ' + room.name + ' '
    | is a private room
    br
    | Please enter the password below
  form(action=(host + "//" + room.slug) method="post")
    .public-field
      label Password
      input(type="password" name="Password")
      button.btn.btn-primary(type="submit") Login
  .login-message
    script.
      function getUrlVars()
      {
          var vars = [], hash;
          var hashes = window.location.href.slice(window.location.href.indexOf('?') + 1).split('&');
          for(var i = 0; i < hashes.length; i++)
          {
              hash = hashes[i].split('=');
              vars.push(hash[0]);
              vars[hash[0]] = hash[1];
          }
          return vars;
      }
      var message = getUrlVars()["message"]
      if (message != null) {
        message = decodeURIComponent(message)
        document.write(message)
      }

